{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arbog\\\\Documents\\\\workshop_app_frontend\\\\front-end\\\\src\\\\Components\\\\Admin\\\\NewNotificationSubComponents\\\\NotificationForm.js\";\nimport React, { useContext, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { NotificationContext } from \"../../../Context/NotificationContext\";\nimport { WorkshopContext } from \"../../../Context/WorkshopContext\";\nimport uuid from \"react-uuid\";\n\nconst NotificationForm = () => {\n  const {\n    addTempNotification\n  } = useContext(NotificationContext);\n  const {\n    allWorkshops,\n    getAttendees,\n    attendees\n  } = useContext(WorkshopContext);\n  const [checkboxCheck, setCheckboxCheck] = useState(false);\n  const [selectWorkshop, setSelectWorkshop] = useState(false);\n\n  const toggleSchedule = () => {\n    setCheckboxCheck(!checkboxCheck);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    errors\n  } = useForm();\n\n  const onSubmit = data => {\n    let workshopTitle = \"\";\n\n    if (data.workshop) {\n      const workshop = data.workshop.split(\",\");\n      workshopTitle = workshop[0];\n    }\n\n    const now = new Date();\n    const now_formated = `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDay()}T${now.getHours()}:${now.getMinutes()}`;\n    const date = data.checkbox ? data.date : now_formated;\n    const state = data.checkbox ? \"scheduled\" : \"send\";\n    const newObject = {\n      id: uuid(),\n      send_to: data.to,\n      workshop: data.workshop,\n      subject: data.subject,\n      content: data.content,\n      state: state,\n      date: date,\n      checkbox: data.checkbox\n    };\n    reset({\n      date: \"\",\n      send_to: \"\",\n      subject: \"\",\n      content: \"\"\n    });\n    addTempNotification(newObject);\n\n    if (data.checkbox) {\n      toggleSchedule();\n    }\n\n    if (data.workshop) {\n      setSelectWorkshop(false);\n    }\n  };\n\n  const onChangeSelect = event => {\n    const {\n      value\n    } = event.target;\n\n    if (value === \"Workshop\") {\n      setSelectWorkshop(true);\n    } else {\n      setSelectWorkshop(false);\n    }\n  };\n\n  const handleToWorkshop = event => {\n    event.preventDefault();\n    const {\n      value\n    } = event.target;\n    const workshop = value.split(\",\");\n    const speakerId = Number(workshop[1]);\n    getAttendees(speakerId);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"new-notification-form\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-notification-form-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-notification-form-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: onChangeSelect,\n    name: \"to\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"To:\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"All\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"All Attendees\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"All Attendees\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"All Speakers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"All Speakers\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Workshop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Workshop\")), errors.to && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, \"please select an addressee\"), selectWorkshop && /*#__PURE__*/React.createElement(\"select\", {\n    name: \"workshop\",\n    onChange: handleToWorkshop,\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Select a Workshop\"), allWorkshops.map(workshop => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: [workshop.title, workshop.speaker_id],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, workshop.title);\n  })), selectWorkshop && errors.workshop && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 47\n    }\n  }, \"please select a workshop\"), /*#__PURE__*/React.createElement(\"input\", {\n    style: errors.subject && {\n      border: \"1px solid #3B65B0\"\n    },\n    type: \"text\",\n    placeholder: \"Subject\",\n    name: \"subject\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), errors.subject && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 28\n    }\n  }, \"please add a subject\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    style: errors.content && {\n      border: \"1px solid #3B65B0\"\n    },\n    className: \"content\",\n    type: \"text\",\n    placeholder: \"Content\",\n    name: \"content\",\n    row: \"5\",\n    cols: \"50\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), errors.content && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 28\n    }\n  }, \"please add some content\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"schedule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"schedule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Schedule\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: \"checkbox\",\n    id: \"schedule\",\n    value: checkboxCheck,\n    onChange: toggleSchedule,\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), checkboxCheck && /*#__PURE__*/React.createElement(\"input\", {\n    style: errors.subject && {\n      border: \"1px solid #3B65B0\"\n    },\n    type: \"datetime-local\",\n    name: \"date\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }), errors.date && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 27\n    }\n  }, \"please choose a date\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-notification-form-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, \"Create\")));\n};\n\nexport default NotificationForm;","map":{"version":3,"sources":["C:/Users/arbog/Documents/workshop_app_frontend/front-end/src/Components/Admin/NewNotificationSubComponents/NotificationForm.js"],"names":["React","useContext","useState","useForm","NotificationContext","WorkshopContext","uuid","NotificationForm","addTempNotification","allWorkshops","getAttendees","attendees","checkboxCheck","setCheckboxCheck","selectWorkshop","setSelectWorkshop","toggleSchedule","register","handleSubmit","reset","errors","onSubmit","data","workshopTitle","workshop","split","now","Date","now_formated","getFullYear","getMonth","getDay","getHours","getMinutes","date","checkbox","state","newObject","id","send_to","to","subject","content","onChangeSelect","event","value","target","handleToWorkshop","preventDefault","speakerId","Number","required","map","title","speaker_id","border"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,mBAAT,QAAoC,sCAApC;AACA,SAASC,eAAT,QAAgC,kCAAhC;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAA0BP,UAAU,CAACG,mBAAD,CAA1C;AACA,QAAM;AAAEK,IAAAA,YAAF;AAAgBC,IAAAA,YAAhB;AAA8BC,IAAAA;AAA9B,MAA4CV,UAAU,CAACI,eAAD,CAA5D;AAEA,QAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACY,cAAD,EAAiBC,iBAAjB,IAAsCb,QAAQ,CAAC,KAAD,CAApD;;AAEA,QAAMc,cAAc,GAAG,MAAM;AAC3BH,IAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AACD,GAFD;;AAIA,QAAM;AAAEK,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA,KAA1B;AAAiCC,IAAAA;AAAjC,MAA4CjB,OAAO,EAAzD;;AAEA,QAAMkB,QAAQ,GAAIC,IAAD,IAAU;AACzB,QAAIC,aAAa,GAAG,EAApB;;AAEA,QAAID,IAAI,CAACE,QAAT,EAAmB;AACjB,YAAMA,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,KAAd,CAAoB,GAApB,CAAjB;AACAF,MAAAA,aAAa,GAAGC,QAAQ,CAAC,CAAD,CAAxB;AACD;;AAED,UAAME,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AAEA,UAAMC,YAAY,GAAI,GAAEF,GAAG,CAACG,WAAJ,EAAkB,IACxCH,GAAG,CAACI,QAAJ,KAAiB,CAClB,IAAGJ,GAAG,CAACK,MAAJ,EAAa,IAAGL,GAAG,CAACM,QAAJ,EAAe,IAAGN,GAAG,CAACO,UAAJ,EAAiB,EAFvD;AAIA,UAAMC,IAAI,GAAGZ,IAAI,CAACa,QAAL,GAAgBb,IAAI,CAACY,IAArB,GAA4BN,YAAzC;AAEA,UAAMQ,KAAK,GAAGd,IAAI,CAACa,QAAL,GAAgB,WAAhB,GAA8B,MAA5C;AAEA,UAAME,SAAS,GAAG;AAChBC,MAAAA,EAAE,EAAEhC,IAAI,EADQ;AAEhBiC,MAAAA,OAAO,EAAEjB,IAAI,CAACkB,EAFE;AAGhBhB,MAAAA,QAAQ,EAAEF,IAAI,CAACE,QAHC;AAIhBiB,MAAAA,OAAO,EAAEnB,IAAI,CAACmB,OAJE;AAKhBC,MAAAA,OAAO,EAAEpB,IAAI,CAACoB,OALE;AAMhBN,MAAAA,KAAK,EAAEA,KANS;AAOhBF,MAAAA,IAAI,EAAEA,IAPU;AAQhBC,MAAAA,QAAQ,EAAEb,IAAI,CAACa;AARC,KAAlB;AAUAhB,IAAAA,KAAK,CAAC;AACJe,MAAAA,IAAI,EAAE,EADF;AAEJK,MAAAA,OAAO,EAAE,EAFL;AAGJE,MAAAA,OAAO,EAAE,EAHL;AAIJC,MAAAA,OAAO,EAAE;AAJL,KAAD,CAAL;AAMAlC,IAAAA,mBAAmB,CAAC6B,SAAD,CAAnB;;AAEA,QAAIf,IAAI,CAACa,QAAT,EAAmB;AACjBnB,MAAAA,cAAc;AACf;;AACD,QAAIM,IAAI,CAACE,QAAT,EAAmB;AACjBT,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD;AACF,GA1CD;;AA4CA,QAAM4B,cAAc,GAAIC,KAAD,IAAW;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAYD,KAAK,CAACE,MAAxB;;AAEA,QAAID,KAAK,KAAK,UAAd,EAA0B;AACxB9B,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KAFD,MAEO;AACLA,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD;AACF,GARD;;AAUA,QAAMgC,gBAAgB,GAAIH,KAAD,IAAW;AAClCA,IAAAA,KAAK,CAACI,cAAN;AACA,UAAM;AAAEH,MAAAA;AAAF,QAAYD,KAAK,CAACE,MAAxB;AACA,UAAMtB,QAAQ,GAAGqB,KAAK,CAACpB,KAAN,CAAY,GAAZ,CAAjB;AACA,UAAMwB,SAAS,GAAGC,MAAM,CAAC1B,QAAQ,CAAC,CAAD,CAAT,CAAxB;AACAd,IAAAA,YAAY,CAACuC,SAAD,CAAZ;AACD,GAND;;AAQA,sBACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAwC,IAAA,QAAQ,EAAE/B,YAAY,CAACG,QAAD,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,QAAQ,EAAEsB,cADZ;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,GAAG,EAAE1B,QAAQ,CAAC;AAAEkC,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALF,eAME;AAAQ,IAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WANF,eAOE;AAAQ,IAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,eAQE;AAAQ,IAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF,eASE;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,CADF,EAYG/B,MAAM,CAACoB,EAAP,iBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAZhB,EAaG1B,cAAc,iBACb;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,QAAQ,EAAEiC,gBAFZ;AAGE,IAAA,GAAG,EAAE9B,QAAQ,CAAC;AAAEkC,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBALF,EAMG1C,YAAY,CAAC2C,GAAb,CAAkB5B,QAAD,IAAc;AAC9B,wBACE;AAAQ,MAAA,KAAK,EAAE,CAACA,QAAQ,CAAC6B,KAAV,EAAiB7B,QAAQ,CAAC8B,UAA1B,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG9B,QAAQ,CAAC6B,KADZ,CADF;AAKD,GANA,CANH,CAdJ,EA6BGvC,cAAc,IAAIM,MAAM,CAACI,QAAzB,iBAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCA7BxC,eA8BE;AACE,IAAA,KAAK,EAAEJ,MAAM,CAACqB,OAAP,IAAkB;AAAEc,MAAAA,MAAM,EAAE;AAAV,KAD3B;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,SAHd;AAIE,IAAA,IAAI,EAAC,SAJP;AAKE,IAAA,GAAG,EAAEtC,QAAQ,CAAC;AAAEkC,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,EAqCG/B,MAAM,CAACqB,OAAP,iBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BArCrB,eAsCE;AACE,IAAA,KAAK,EAAErB,MAAM,CAACsB,OAAP,IAAkB;AAAEa,MAAAA,MAAM,EAAE;AAAV,KAD3B;AAEE,IAAA,SAAS,EAAC,SAFZ;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,WAAW,EAAC,SAJd;AAKE,IAAA,IAAI,EAAC,SALP;AAME,IAAA,GAAG,EAAC,GANN;AAOE,IAAA,IAAI,EAAC,IAPP;AAQE,IAAA,GAAG,EAAEtC,QAAQ,CAAC;AAAEkC,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CARf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCF,EAgDG/B,MAAM,CAACsB,OAAP,iBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAhDrB,eAiDE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,EAAE,EAAC,UAHL;AAIE,IAAA,KAAK,EAAE9B,aAJT;AAKE,IAAA,QAAQ,EAAEI,cALZ;AAME,IAAA,GAAG,EAAEC,QANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAUGL,aAAa,iBACZ;AACE,IAAA,KAAK,EAAEQ,MAAM,CAACqB,OAAP,IAAkB;AAAEc,MAAAA,MAAM,EAAE;AAAV,KAD3B;AAEE,IAAA,IAAI,EAAC,gBAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,GAAG,EAAEtC,QAAQ,CAAC;AAAEkC,MAAAA,QAAQ,EAAE;AAAZ,KAAD,CAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAkBG/B,MAAM,CAACc,IAAP,iBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAlBlB,CAjDF,CAFF,eAwEE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAxEF,CADF;AA8ED,CAzJD;;AA2JA,eAAe3B,gBAAf","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { NotificationContext } from \"../../../Context/NotificationContext\";\r\nimport { WorkshopContext } from \"../../../Context/WorkshopContext\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst NotificationForm = () => {\r\n  const { addTempNotification } = useContext(NotificationContext);\r\n  const { allWorkshops, getAttendees, attendees } = useContext(WorkshopContext);\r\n\r\n  const [checkboxCheck, setCheckboxCheck] = useState(false);\r\n  const [selectWorkshop, setSelectWorkshop] = useState(false);\r\n\r\n  const toggleSchedule = () => {\r\n    setCheckboxCheck(!checkboxCheck);\r\n  };\r\n\r\n  const { register, handleSubmit, reset, errors } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    let workshopTitle = \"\";\r\n\r\n    if (data.workshop) {\r\n      const workshop = data.workshop.split(\",\");\r\n      workshopTitle = workshop[0];\r\n    }\r\n\r\n    const now = new Date();\r\n\r\n    const now_formated = `${now.getFullYear()}-${\r\n      now.getMonth() + 1\r\n    }-${now.getDay()}T${now.getHours()}:${now.getMinutes()}`;\r\n\r\n    const date = data.checkbox ? data.date : now_formated;\r\n\r\n    const state = data.checkbox ? \"scheduled\" : \"send\";\r\n\r\n    const newObject = {\r\n      id: uuid(),\r\n      send_to: data.to,\r\n      workshop: data.workshop,\r\n      subject: data.subject,\r\n      content: data.content,\r\n      state: state,\r\n      date: date,\r\n      checkbox: data.checkbox,\r\n    };\r\n    reset({\r\n      date: \"\",\r\n      send_to: \"\",\r\n      subject: \"\",\r\n      content: \"\",\r\n    });\r\n    addTempNotification(newObject);\r\n\r\n    if (data.checkbox) {\r\n      toggleSchedule();\r\n    }\r\n    if (data.workshop) {\r\n      setSelectWorkshop(false);\r\n    }\r\n  };\r\n\r\n  const onChangeSelect = (event) => {\r\n    const { value } = event.target;\r\n\r\n    if (value === \"Workshop\") {\r\n      setSelectWorkshop(true);\r\n    } else {\r\n      setSelectWorkshop(false);\r\n    }\r\n  };\r\n\r\n  const handleToWorkshop = (event) => {\r\n    event.preventDefault();\r\n    const { value } = event.target;\r\n    const workshop = value.split(\",\");\r\n    const speakerId = Number(workshop[1]);\r\n    getAttendees(speakerId);\r\n  };\r\n\r\n  return (\r\n    <form className=\"new-notification-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"new-notification-form-header\" />\r\n      <div className=\"new-notification-form-body\">\r\n        <select\r\n          onChange={onChangeSelect}\r\n          name=\"to\"\r\n          ref={register({ required: true })}\r\n        >\r\n          <option value=\"\">To:</option>\r\n          <option value=\"All\">All</option>\r\n          <option value=\"All Attendees\">All Attendees</option>\r\n          <option value=\"All Speakers\">All Speakers</option>\r\n          <option value=\"Workshop\">Workshop</option>\r\n        </select>\r\n        {errors.to && <p>please select an addressee</p>}\r\n        {selectWorkshop && (\r\n          <select\r\n            name=\"workshop\"\r\n            onChange={handleToWorkshop}\r\n            ref={register({ required: true })}\r\n          >\r\n            <option value=\"\">Select a Workshop</option>\r\n            {allWorkshops.map((workshop) => {\r\n              return (\r\n                <option value={[workshop.title, workshop.speaker_id]}>\r\n                  {workshop.title}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        )}\r\n        {selectWorkshop && errors.workshop && <p>please select a workshop</p>}\r\n        <input\r\n          style={errors.subject && { border: \"1px solid #3B65B0\" }}\r\n          type=\"text\"\r\n          placeholder=\"Subject\"\r\n          name=\"subject\"\r\n          ref={register({ required: true })}\r\n        />\r\n        {errors.subject && <p>please add a subject</p>}\r\n        <textarea\r\n          style={errors.content && { border: \"1px solid #3B65B0\" }}\r\n          className=\"content\"\r\n          type=\"text\"\r\n          placeholder=\"Content\"\r\n          name=\"content\"\r\n          row=\"5\"\r\n          cols=\"50\"\r\n          ref={register({ required: true })}\r\n        />\r\n        {errors.content && <p>please add some content</p>}\r\n        <div className=\"schedule\">\r\n          <label htmlFor=\"schedule\">Schedule</label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"checkbox\"\r\n            id=\"schedule\"\r\n            value={checkboxCheck}\r\n            onChange={toggleSchedule}\r\n            ref={register}\r\n          />\r\n          {checkboxCheck && (\r\n            <input\r\n              style={errors.subject && { border: \"1px solid #3B65B0\" }}\r\n              type=\"datetime-local\"\r\n              name=\"date\"\r\n              ref={register({ required: true })}\r\n            />\r\n          )}\r\n          {errors.date && <p>please choose a date</p>}\r\n        </div>\r\n      </div>\r\n      <div className=\"new-notification-form-footer\">\r\n        <button type=\"submit\">Create</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NotificationForm;\r\n"]},"metadata":{},"sourceType":"module"}