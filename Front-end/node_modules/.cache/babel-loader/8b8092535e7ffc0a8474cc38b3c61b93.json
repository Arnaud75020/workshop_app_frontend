{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arbog\\\\Documents\\\\workshop_app_frontend\\\\front-end\\\\src\\\\Components\\\\Attendee\\\\MyWorkshops.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { WorkshopContext } from '../../Context/WorkshopContext';\nimport { UserContext } from '../../Context/UserContext';\nimport MyWorkshopList from './AttendeeSubComponents/MyWorkshopList';\nimport './MyWorkshops.scss';\n\nconst MyWorkshops = () => {\n  const {\n    workshops,\n    getWorkshops,\n    months,\n    userWorkshops\n  } = useContext(WorkshopContext);\n  const {\n    user\n  } = useContext(UserContext);\n  console.log(\"USER USER USER\", user);\n  const [workshopList, setWorkshopList] = useState([]);\n  const [active, setActive] = useState(\"\");\n  const [reachedLimit, setReachedLimit] = useState(false);\n  const [workshopsLeft, setWorkshopsLeft] = useState(\"\");\n  useEffect(() => {\n    if (userWorkshops.length > 0) {\n      getWorkshops();\n    }\n\n    checkWorkshopsLeft();\n  }, [userWorkshops]);\n  useEffect(() => {\n    if (months.length > 0) {\n      monthlyWorkshops(months[0].month);\n      setActive(months[0].month);\n      checkWorkshopsLeft();\n    }\n  }, [months]);\n  useEffect(() => {\n    if (months.length > 0) {\n      if (active !== \"\") {\n        monthlyWorkshops(active);\n        setActive(active);\n      }\n    }\n  }, [workshops]);\n\n  const monthlyWorkshops = month => {\n    const monthlyWorkshopList = workshops.filter(workshop => {\n      return workshop.workshop_month === month;\n    });\n    setWorkshopList(monthlyWorkshopList);\n    setActive(month);\n  };\n\n  const checkWorkshopsLeft = () => {\n    if (user.max_workshops > userWorkshops.length) {\n      if (userWorkshops.length > 0) {\n        setWorkshopsLeft(`you still have ${user.max_workshops - userWorkshops.length} workshops to choose`);\n      } else {\n        setWorkshopsLeft(`you can register in ${user.max_workshops} workshops`);\n      }\n\n      setReachedLimit(false);\n    } else {\n      setWorkshopsLeft(\"no more workshops to register\");\n      setReachedLimit(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myWorkshops-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myWorkshops-header-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"My Workshops\"), months.length > 0 && months.map(month => {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: active === month.month ? \"myWorkshops-month-btn active\" : \"myWorkshops-month-btn\",\n      onClick: () => monthlyWorkshops(month.month),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 36\n      }\n    }, month.month);\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: reachedLimit ? \"myWorkshops-limit-warning-reached\" : \"myWorkshops-limit-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, workshopsLeft)), /*#__PURE__*/React.createElement(MyWorkshopList, {\n    workshops: workshopList,\n    reachedLimit: reachedLimit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default MyWorkshops;","map":{"version":3,"sources":["C:/Users/arbog/Documents/workshop_app_frontend/front-end/src/Components/Attendee/MyWorkshops.js"],"names":["React","useContext","useState","useEffect","WorkshopContext","UserContext","MyWorkshopList","MyWorkshops","workshops","getWorkshops","months","userWorkshops","user","console","log","workshopList","setWorkshopList","active","setActive","reachedLimit","setReachedLimit","workshopsLeft","setWorkshopsLeft","length","checkWorkshopsLeft","monthlyWorkshops","month","monthlyWorkshopList","filter","workshop","workshop_month","max_workshops","map"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { WorkshopContext } from '../../Context/WorkshopContext';\r\nimport { UserContext } from '../../Context/UserContext';\r\nimport MyWorkshopList from './AttendeeSubComponents/MyWorkshopList'\r\nimport './MyWorkshops.scss'\r\n\r\nconst MyWorkshops = () => {\r\n\r\n    const { workshops, getWorkshops, months, userWorkshops } = useContext(WorkshopContext);\r\n    const { user } = useContext(UserContext);\r\n\r\n    console.log(\"USER USER USER\", user)\r\n\r\n    const [workshopList, setWorkshopList] = useState([])\r\n    const [active, setActive] = useState(\"\")\r\n    const [reachedLimit, setReachedLimit] = useState(false)\r\n    const [workshopsLeft, setWorkshopsLeft] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if(userWorkshops.length > 0){\r\n            getWorkshops()\r\n        }\r\n        checkWorkshopsLeft()\r\n    },[userWorkshops])\r\n\r\n    useEffect(() => {\r\n        if(months.length > 0){\r\n            monthlyWorkshops(months[0].month)\r\n            setActive(months[0].month)\r\n            checkWorkshopsLeft()\r\n        }\r\n    },[months])\r\n\r\n    useEffect(() => {\r\n        if(months.length > 0){\r\n            if(active !== \"\"){\r\n                monthlyWorkshops(active)\r\n                setActive(active)\r\n            }\r\n            \r\n        }\r\n    },[workshops])\r\n\r\n    const monthlyWorkshops = (month) => {\r\n        const monthlyWorkshopList = workshops.filter(workshop => {\r\n            return workshop.workshop_month === month\r\n        })\r\n        setWorkshopList(monthlyWorkshopList)\r\n        setActive(month)\r\n    }\r\n\r\n    const checkWorkshopsLeft = () => {\r\n        if(user.max_workshops > userWorkshops.length){\r\n            if(userWorkshops.length > 0){\r\n                setWorkshopsLeft(`you still have ${user.max_workshops - userWorkshops.length} workshops to choose`)\r\n            } else {\r\n                setWorkshopsLeft(`you can register in ${user.max_workshops} workshops`)\r\n            }\r\n            setReachedLimit(false)\r\n        } else {\r\n            setWorkshopsLeft(\"no more workshops to register\")\r\n            setReachedLimit(true)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"myWorkshops-header\">\r\n                <div className=\"myWorkshops-header-left\">\r\n                    <h1>My Workshops</h1>\r\n                    {months.length > 0 && \r\n                        months.map(month => {\r\n                            return <button className={active === month.month ?\"myWorkshops-month-btn active\": \"myWorkshops-month-btn\" } onClick={() => monthlyWorkshops(month.month)}>{month.month}</button>\r\n                })}\r\n                </div>\r\n                <p className={reachedLimit ? \"myWorkshops-limit-warning-reached\" : \"myWorkshops-limit-warning\"}>{workshopsLeft}</p>\r\n            </div>\r\n            <MyWorkshopList workshops={workshopList} reachedLimit={reachedLimit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyWorkshops;"]},"metadata":{},"sourceType":"module"}